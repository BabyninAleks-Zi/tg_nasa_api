# Space Images Telegram Publisher

Проект состоит из нескольких скриптов для загрузки фотографий космоса из открытых API (NASA и SpaceX) и автоматической публикации этих изображений в Telegram-канал с заданной периодичностью.

Программа позволяет:

* Загружать фотографии из NASA APOD API
* Загружать изображения Земли из NASA EPIC API
* Загружать фотографии запусков SpaceX
* Сохранять все изображения локально
* Автоматически публиковать изображения в Telegram-канал через бота
* Настраивать частоту публикаций через переменные окружения

Проект разбит на несколько модулей, каждый из которых отвечает за свою задачу.

```python
fetch_nasa_apod_image.py     # Загрузка изображений NASA APOD
fetch_nasa_epic_image.py    # Загрузка изображений NASA EPIC
fetch_spacex_image.py       # Загрузка изображений запусков SpaceX
make_api_images.py          # Скачивание и сохранение изображений
publish_photos_to_tg.py     # Автоматическая публикация в Telegram
```

---

## Как установить

Перед началом работы необходимо создать виртуальное окружение и установить зависимости.
Работа Telegram бота расчитана только для версии не выше Python 3.10.*

```bash
python -m venv venv
venv\Scripts\activate
```

Установите необходимые библиотеки:

```bash
pip install -r requirements.txt
```

---

## Настройка переменных окружения

Создайте файл `.env` в корне проекта:
```Python
`NASA_API_KEY`		# API-ключ NASA
`TG_TOKEN`			  # Токен Telegram-бота
`TG_CHANNEL` 		  # Username или chat_id канала
`PUBLISH_DELAY`		# Задержка публикации в часах (по умолчанию 4)
```
---

## Как использовать

### 1. Загрузка изображений NASA APOD

Скрипт:

* Запрашивает список изображений NASA APOD
* Скачивает до 30 изображений
* Сохраняет их в папку `images`

Запуск:

```bash
python fetch_nasa_apod_image.py
```

---

### 2. Загрузка изображений NASA EPIC

Скрипт:

* Получает данные NASA EPIC API
* Формирует ссылки на изображения Земли
* Сохраняет изображения локально

Запуск:

```bash
python fetch_nasa_epic_image.py
```

---

### 3. Загрузка изображений SpaceX

Скрипт:

* Получает изображения последнего запуска SpaceX
* Либо запуска по указанному ID

Запуск последнего запуска:

```bash
python fetch_spacex_image.py
```

Запуск с указанием ID запуска:

```bash
python fetch_spacex_image.py --id <launch_id>
```

---

### 4. Публикация изображений в Telegram

Скрипт:

* Считывает изображения из указанной директории и её подпапок
* Перемешивает список файлов
* Публикует изображения по одному
* Делает паузу между публикациями
* После окончания списка начинает публикацию заново в другом порядке

Запуск:

```bash
python publish_photos_to_tg.py --images-folder images
```

---
